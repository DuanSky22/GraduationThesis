<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Oct 04 13:18:43 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>HashSlotArray (Hazelcast Root 3.7.2 API)</title>
<meta name="date" content="2016-10-04">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HashSlotArray (Hazelcast Root 3.7.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HashSlotArray.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray12byteKey.html" title="interface in com.hazelcast.internal.util.hashslot"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/hazelcast/internal/util/hashslot/HashSlotArray.html" target="_top">Frames</a></li>
<li><a href="HashSlotArray.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hazelcast.internal.util.hashslot</div>
<h2 title="Interface HashSlotArray" class="title">Interface HashSlotArray</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../../com/hazelcast/nio/Disposable.html" title="interface in com.hazelcast.nio">Disposable</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray12byteKey.html" title="interface in com.hazelcast.internal.util.hashslot">HashSlotArray12byteKey</a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray16byteKey.html" title="interface in com.hazelcast.internal.util.hashslot">HashSlotArray16byteKey</a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray8byteKey.html" title="interface in com.hazelcast.internal.util.hashslot">HashSlotArray8byteKey</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArray12byteKeyImpl.html" title="class in com.hazelcast.internal.util.hashslot.impl">HashSlotArray12byteKeyImpl</a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArray16byteKeyImpl.html" title="class in com.hazelcast.internal.util.hashslot.impl">HashSlotArray16byteKeyImpl</a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArray16byteKeyNoValue.html" title="class in com.hazelcast.internal.util.hashslot.impl">HashSlotArray16byteKeyNoValue</a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArray8byteKeyImpl.html" title="class in com.hazelcast.internal.util.hashslot.impl">HashSlotArray8byteKeyImpl</a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArray8byteKeyNoValue.html" title="class in com.hazelcast.internal.util.hashslot.impl">HashSlotArray8byteKeyNoValue</a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArrayBase.html" title="class in com.hazelcast.internal.util.hashslot.impl">HashSlotArrayBase</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">HashSlotArray</span>
extends <a href="../../../../../com/hazelcast/nio/Disposable.html" title="interface in com.hazelcast.nio">Disposable</a></pre>
<div class="block"><p>
 A <i>Flyweight</i> object that manages the backbone array of an off-heap open-addressed hashtable.
 The backbone consists of <i>slots</i>, where each slot has a key part and an optional value part.
 The size of the key part varies by subtype (<a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray8byteKey.html" title="interface in com.hazelcast.internal.util.hashslot"><code>HashSlotArray8byteKey</code></a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray16byteKey.html" title="interface in com.hazelcast.internal.util.hashslot"><code>HashSlotArray16byteKey</code></a>).
 The size of the value part can be specified on instantiation and there are subtypes specialized for
 zero-size values (<a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArray8byteKeyNoValue.html" title="class in com.hazelcast.internal.util.hashslot.impl"><code>HashSlotArray8byteKeyNoValue</code></a>, <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArray16byteKeyNoValue.html" title="class in com.hazelcast.internal.util.hashslot.impl"><code>HashSlotArray16byteKeyNoValue</code></a>).
 At this level of abstraction the slot-accessing methods are not defined because they are specific
 to a given key size. These methods are defined in the key size-specific subtypes. The notes presented
 here, however, apply to all cases.
 </p><p>
 The update operations only ensure that a slot for a given key exists/doesn't exist and it is
 up to the caller to manage the contents of the value part. The caller will be provided
 with the raw address of the value, suitable for accessing with the associated
 <a href="../../../../../com/hazelcast/internal/memory/MemoryAccessor.html" title="interface in com.hazelcast.internal.memory"><code>MemoryAccessor</code></a>.
 <b>The returned address is valid only up to the next map update operation</b>.
 </p><p>
 Since this is a <i>Flyweight</i>-style object, the same instance can be used to manage many
 hashtables, one at a time. The <a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#gotoAddress(long)"><code>gotoAddress(long)</code></a> method resets the instance to work
 with the hashtable at the provided address and <a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#gotoNew()"><code>gotoNew()</code></a> allocates a new hashtable.
 It is the caller's duty to ensure against memory leaks by keeping track of all existing hashtables'
 base addresses. Since an update operation may trigger a new allocation, freeing the old block,
 it is the caller's duty to save the new address before moving on to another base address.
 </p><h3>
     Memory layout
 </h3> <p>
 The base address, returned by <a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#address()"><code>address()</code></a>, is the addres of the first slot in the array.
 It is preceded by the header of size <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArrayBase.html#HEADER_SIZE">24</a>
 which holds the metadata
 that pertains to the structure as a whole (<code>capacity</code>, <code>size</code>, and <code>expandAt</code>).
 A slot consists of the key part and the value part, in that order, and the size of a slot is exactly the sum of the
 sizes of the key and value parts. The size of the memory block that backs the entire structure is equal to
 <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArrayBase.html#HEADER_SIZE">24</a> + (<a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#capacity()"><code>capacity()</code></a> * slot size), and
 its base address is <a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#address()"><code>address()</code></a> - <a href="../../../../../com/hazelcast/internal/util/hashslot/impl/HashSlotArrayBase.html#HEADER_SIZE">24</a>.
 </p><p>
 A special value must be reserved to mark an <emph>unassigned</emph> slot. The offset of the marker
 in the slot can be customized, as well as the choice of the special value.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#address()">address</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#capacity()">capacity</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#clear()">clear</a></strong>()</code>
<div class="block">After this method returns, all slots in the current hash slot array are unassigned.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#expansionThreshold()">expansionThreshold</a></strong>()</code>
<div class="block">Array expansion and rehashing will be triggered when <code>size</code> reaches this value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#gotoAddress(long)">gotoAddress</a></strong>(long&nbsp;address)</code>
<div class="block">Position this flyweight to the supplied base address.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#gotoNew()">gotoNew</a></strong>()</code>
<div class="block">Allocate a new array and position this flyweight to its base address.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#size()">size</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray.html#trimToSize()">trimToSize</a></strong>()</code>
<div class="block">Compact the array by reducing its capacity, if allowed by the current size and load factor.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.hazelcast.nio.Disposable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.hazelcast.nio.<a href="../../../../../com/hazelcast/nio/Disposable.html" title="interface in com.hazelcast.nio">Disposable</a></h3>
<code><a href="../../../../../com/hazelcast/nio/Disposable.html#dispose()">dispose</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="address()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>address</h4>
<pre>long&nbsp;address()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>current base address of this flyweight</dd></dl>
</li>
</ul>
<a name="gotoAddress(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotoAddress</h4>
<pre>void&nbsp;gotoAddress(long&nbsp;address)</pre>
<div class="block">Position this flyweight to the supplied base address.</div>
</li>
</ul>
<a name="gotoNew()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotoNew</h4>
<pre>long&nbsp;gotoNew()</pre>
<div class="block">Allocate a new array and position this flyweight to its base address.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the base address of the new array.</dd></dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>long&nbsp;size()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of assigned slots in the current hash slot array</dd></dl>
</li>
</ul>
<a name="capacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>capacity</h4>
<pre>long&nbsp;capacity()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the total number of slots in the current hash slot array</dd></dl>
</li>
</ul>
<a name="expansionThreshold()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expansionThreshold</h4>
<pre>long&nbsp;expansionThreshold()</pre>
<div class="block">Array expansion and rehashing will be triggered when <code>size</code> reaches this value.</div>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear()</pre>
<div class="block">After this method returns, all slots in the current hash slot array are unassigned.</div>
</li>
</ul>
<a name="trimToSize()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>trimToSize</h4>
<pre>boolean&nbsp;trimToSize()</pre>
<div class="block">Compact the array by reducing its capacity, if allowed by the current size and load factor.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the array was compacted; false if no action was taken.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HashSlotArray.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../com/hazelcast/internal/util/hashslot/HashSlotArray12byteKey.html" title="interface in com.hazelcast.internal.util.hashslot"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/hazelcast/internal/util/hashslot/HashSlotArray.html" target="_top">Frames</a></li>
<li><a href="HashSlotArray.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All Rights Reserved.</small></p>
</body>
</html>
